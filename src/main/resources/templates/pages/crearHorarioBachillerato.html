<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Sistema de Horarios</title>
    <link rel="stylesheet" th:href="@{/css/registroHorarios.css}">
    <link rel="icon" th:href="@{/images/faviconLogo.png}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/css/panelAdmin.css}">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

<header class="header">
    <h1>Horarios de Bachillerato</h1>
</header>

<div th:replace="fragments/navbar :: navbar"></div>

<main class="container mx-auto p-4">

    <section class="selection-bar-container">
        <div class="selection-grid">
            <div class="selector-group">
                <h2 class="selector-label">Elije el Curso</h2>
                <div class="custom-dropdown" id="dropdownCurso">
                    <div class="dropdown-selected" onclick="toggleCustomDropdown('dropdownCurso')">
                        <span id="textCurso">8vo / 9no / 10mo . . .</span>
                        <i class="fas fa-caret-down arrow-icon"></i>
                    </div>
                    <div class="dropdown-options">
                        <div class="dropdown-item" onclick="selectItem('curso', '8vo EGB')">8vo EGB</div>
                        <div class="dropdown-item" onclick="selectItem('curso', '9no EGB')">9no EGB</div>
                        <div class="dropdown-item" onclick="selectItem('curso', '10mo EGB')">10mo EGB</div>
                        <div class="dropdown-item" onclick="selectItem('curso', '1ro Bach')">1ro Bachillerato</div>
                        <div class="dropdown-item" onclick="selectItem('curso', '2do Bach')">2do Bachillerato</div>
                        <div class="dropdown-item" onclick="selectItem('curso', '3ro Bach')">3ro Bachillerato</div>
                    </div>
                </div>
            </div>

            <div class="selector-group">
                <h2 class="selector-label">Elije el Paralelo</h2>
                <div class="custom-dropdown" id="dropdownParalelo">
                    <div class="dropdown-selected" onclick="toggleCustomDropdown('dropdownParalelo')">
                        <span id="textParalelo">A / B / C . . .</span>
                        <i class="fas fa-caret-down arrow-icon"></i>
                    </div>
                    <div class="dropdown-options">
                        <div class="dropdown-item" onclick="selectItem('paralelo', 'A')">Paralelo A</div>
                        <div class="dropdown-item" onclick="selectItem('paralelo', 'B')">Paralelo B</div>
                        <div class="dropdown-item" onclick="selectItem('paralelo', 'C')">Paralelo C</div>
                        <div class="dropdown-item" onclick="selectItem('paralelo', 'D')">Paralelo D</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="schedule-section">
        <h2 class="section-title">Jornada Matutina</h2>
        <div class="table-container">
            <table class="schedule-table">
                <thead>
                <tr>
                    <th class="text-center">Hora</th>
                    <th>Lunes</th>
                    <th>Martes</th>
                    <th>Miércoles</th>
                    <th>Jueves</th>
                    <th>Viernes</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="time-col text-center">07:00 - 07:45</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">07:45 - 08:30</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">08:30 - 09:15</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">09:15 - 10:00</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">10:00 - 10:30</td>
                    <td><button class="add-btn" onclick="">R</button></td>
                    <td><button class="add-btn" onclick="">E</button></td>
                    <td><button class="add-btn" onclick="">C</button></td>
                    <td><button class="add-btn" onclick="">R</button></td>
                    <td><button class="add-btn" onclick="">EO</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">10:30 - 11:15</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">11:15 - 12:00</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="schedule-section">
        <h2 class="section-title">Jornada Vespertina</h2>
        <div class="table-container">
            <table class="schedule-table">
                <thead>
                <tr>
                    <th class="text-center">Hora</th>
                    <th>Lunes</th>
                    <th>Martes</th>
                    <th>Miércoles</th>
                    <th>Jueves</th>
                    <th>Viernes</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="time-col text-center">13:00 - 13:45</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">13:45 - 14:30</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">14:30 - 15:15</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">15:15 - 16:00</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">16:00 - 16:45</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                <tr>
                    <td class="time-col text-center">16:45 - 17:30</td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                    <td><button class="add-btn" onclick="openModal(this)">+</button></td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

</main>

<div id="classModal" class="modal-overlay" style="display: none;">
    <div class="modal-content max-w-md w-full m-4">
        <div class="modal-header flex justify-between items-center pb-3">
            <h3 class="text-xl font-bold text-gray-800">Agregar Nueva Clase</h3>
            <span class="close-modal cursor-pointer text-gray-500 text-2xl" onclick="closeModal()">&times;</span>
        </div>
        <div class="modal-body space-y-4">
            <div class="form-group">
                <label class="block text-sm font-semibold text-gray-600 mb-1">Materia</label>
                <input type="text" id="modalMateria" class="form-control w-full p-2 border rounded-md bg-gray-100" placeholder="Ej: Matemáticas">
            </div>
            <div class="form-group">
                <label class="block text-sm font-semibold text-gray-600 mb-1">Profesor</label>
                <input type="text" id="modalDocente" class="form-control w-full p-2 border rounded-md bg-gray-100" placeholder="Ej: Dr. García">
            </div>
            <div class="flex space-x-4">
                <div class="form-group w-1/2">
                    <label class="block text-sm font-semibold text-gray-600 mb-1">Aula</label>
                    <input type="text" id="modalAula" class="form-control w-full p-2 border rounded-md bg-gray-100" placeholder="Ej: A-101">
                </div>
                <div class="form-group w-1/2">
                    <label class="block text-sm font-semibold text-gray-600 mb-1">Día</label>
                    <select id="modalDia" class="form-control w-full p-2 border rounded-md bg-gray-100">
                        <option value="Lunes">Lunes</option>
                        <option value="Martes">Martes</option>
                        <option value="Miércoles">Miércoles</option>
                        <option value="Jueves">Jueves</option>
                        <option value="Viernes">Viernes</option>
                    </select>
                </div>
            </div>
            <div class="flex space-x-4">
                <div class="form-group w-1/2">
                    <label class="block text-sm font-semibold text-gray-600 mb-1">Hora Inicio</label>
                    <input type="time" id="modalHoraInicio" class="form-control w-full p-2 border rounded-md bg-gray-100" value="09:00">
                </div>
                <div class="form-group w-1/2">
                    <label class="block text-sm font-semibold text-gray-600 mb-1">Hora Fin</label>
                    <input type="time" id="modalHoraFin" class="form-control w-full p-2 border rounded-md bg-gray-100" value="10:00">
                </div>
            </div>
            <div class="form-group bg-gray-100 p-3 rounded-md">
                <label class="block text-sm font-semibold text-gray-600">Duración: <span id="modalDuracion" class="font-normal">60min</span></label>
                <p class="text-xs text-gray-500">La clase se ajustará automáticamente en el horario</p>
            </div>
            <div class="form-group">
                <label class="block text-sm font-semibold text-gray-600 mb-2">Color</label>
                <div class="color-picker flex space-x-3">
                    <div class="color-option c1 selected w-8 h-8 rounded-full cursor-pointer border-2 border-white ring-2 ring-transparent hover:ring-gray-300" onclick="selectColor(this, '#3b82f6')" style="background-color: #3b82f6;"></div>
                    <div class="color-option c2 w-8 h-8 rounded-full cursor-pointer border-2 border-white ring-2 ring-transparent hover:ring-gray-300" onclick="selectColor(this, '#ef4444')" style="background-color: #ef4444;"></div>
                    <div class="color-option c3 w-8 h-8 rounded-full cursor-pointer border-2 border-white ring-2 ring-transparent hover:ring-gray-300" onclick="selectColor(this, '#10b981')" style="background-color: #10b981;"></div>
                    <div class="color-option c4 w-8 h-8 rounded-full cursor-pointer border-2 border-white ring-2 ring-transparent hover:ring-gray-300" onclick="selectColor(this, '#f59e0b')" style="background-color: #f59e0b;"></div>
                    <div class="color-option c5 w-8 h-8 rounded-full cursor-pointer border-2 border-white ring-2 ring-transparent hover:ring-gray-300" onclick="selectColor(this, '#8b5cf6')" style="background-color: #8b5cf6;"></div>
                    <div class="color-option c6 w-8 h-8 rounded-full cursor-pointer border-2 border-white ring-2 ring-transparent hover:ring-gray-300" onclick="selectColor(this, '#06b6d4')" style="background-color: #06b6d4;"></div>
                    <div class="color-option c7 w-8 h-8 rounded-full cursor-pointer border-2 border-white ring-2 ring-transparent hover:ring-gray-300" onclick="selectColor(this, '#f97316')" style="background-color: #f97316;"></div>
                    <div class="color-option c8 w-8 h-8 rounded-full cursor-pointer border-2 border-white ring-2 ring-transparent hover:ring-gray-300" onclick="selectColor(this, '#84cc16')" style="background-color: #84cc16;"></div>
                </div>
            </div>
        </div>
        <div class="modal-footer flex justify-end space-x-2 pt-4">
            <button class="btn-cancel px-4 py-2 bg-white border border-gray-300 rounded-md text-gray-700 font-semibold hover:bg-gray-50" onclick="closeModal()">Cancelar</button>
            <button class="btn-save px-4 py-2 bg-gray-900 text-white rounded-md font-semibold hover:bg-gray-800" onclick="saveSchedule()">Guardar</button>
        </div>
    </div>
</div>

<!--footer-->
<div th:replace="fragments/footer :: footer"></div>

<script th:src="@{/js/registroHorarios.js}"></script>
</body>
</html>